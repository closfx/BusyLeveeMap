<!DOCTYPE html>
<html lang="en">

<head>

    <meta http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="HandheldFriendly" content="true" />

    <title>Busy Levee 3D Map (Master)</title>

    <link rel="stylesheet" href="css/master-style.css">
    <link rel="stylesheet" href="css/touch-pad.css">

    <!--<script type='text/javascript' src='js/libs/dat.gui-master/build/dat.gui.min.js'></script>-->
    <script>

		window.nodeRequire = require;
		delete window.require;
		delete window.exports; delete window.module;
    </script>

    <script src='js/jquery-3.3.1.js'></script>
</head>

<body unselectable="on" onselectstart="return false;" onmousedown="return false;">

    <div id="overlayContainer">

        <div class="overlayDivider"></div>

        <div id="overlayDefault" class="overlayBTN"><a href="#" class="infoIcon"><img src="img/BTN/BTN-Info.png" /></a></div>
        <div id="overlayDefaultText" class="overlayText"><h2>Overview</h2>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</div>

        <div id="overlay00" class="overlayBTN hidden"><a href="#" class="infoIcon"><img src="img/BTN/BTN-StreetView.png" /></a></div>
        <div id="overlay00Text" class="overlayText hidden"><h2>Explore The Town</h2>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</div>

        <div id="overlay01" class="overlayBTN hidden"><a href="#video01">EXPLORE</a></div>
        <div id="overlay01Text" class="overlayText hidden"><h2>The Riverboat St. Louis</h2>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</div>

        <div id="overlay02" class="overlayBTN hidden"><a>EXPLORE</a></div>
        <div id="overlay02Text" class="overlayText hidden"><h2>City Market</h2>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</div>

        <div id="overlay03" class="overlayBTN hidden"><a>EXPLORE</a></div>
        <div id="overlay03Text" class="overlayText hidden"><h2>Commercial Alley</h2>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</div>

        <div id="overlay04" class="overlayBTN hidden"><a>EXPLORE</a></div>
        <div id="overlay04Text" class="overlayText hidden"><h2>Main Street</h2>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</div>

    </div>

    <div id="titleIMG"><img src="img/img-busy-levee-title-v2.png" /></div>

    <div id="tabs-stage-frame"><img src="img/busy-levee-bg-frame.png" /></div>

    <script src='js/sceneElements/city-market-mesh-elements.js'></script>
    <script src='js/sceneElements/block-01-mesh-elements.js'></script>
    <script src='js/sceneElements/river-front-mesh-elements.js'></script>
    <script src='js/sceneElements/ground-mesh-elements.js'></script>
    <script src='js/sceneElements/mesh-elements.js'></script>
    <!--<script src='js/sceneElements/sprite-elements.js'></script>-->

    <script src='js/build/three.js'></script>
    <script src='js/libs/tween.min.js'></script>

    <script src="js/Detector.js"></script>

    <script src="js/renderers/Projector.js"></script>

    <script src="js/loaders/DDSLoader.js"></script>
    <script src="js/loaders/MTLLoader.js"></script>
    <script src="js/loaders/OBJLoader.js"></script>
    <script src="js/loaders/FBXLoader.js"></script>

    <!--<script src="js/controls/OrbitControls.js"></script>-->
    <script src="js/controls/TrackballControls.js"></script>

    <script src="js/objects/Water.js"></script>

    <div id="setControls">
        <div id="container">
            <div id="touchControls"></div>
            <div class="controls-switch">
                <div id="btn-toggleControls" class="button-wrap">
                    <div class="button-bg">
                        <div class="button-out"></div>
                        <div class="button-in"></div>
                        <div class="button-switch"></div>
                    </div>
                    <div class="button-label">Street View</div>
                </div>
            </div>
        </div>



    </div>

    <div class="tabs-stage" id="tabs-stage">

        <div id="leveeMap" style="display: block;">

        </div>

        <!--<script src="js/controls/OrbitControlsNew.js"></script>-->
        <script src="js/controls/rotation-pad.js"></script>
        <script src="js/controls/movement-pad.js"></script>
        <script src="js/controls/touch-controls.js"></script>
        <script src="js/video-controls.js"></script>
        <!--<script src="js/index-controls.js"></script>-->
        <!--        <script src="js/initTHREE.js"></script>-->
        <script src="js/renderer.js"></script>

        <div id="videoContainer">
            <div class="" id="video01" style="display: none;">
                <h1>The Riverboat St. Louis</h1>
                <video id="stlouisVideo" src="video/St_Louis_04.20_1.mp4" width="1200" height="674"></video>
                <!-- Video 01 Controls -->
                <div id="video-01-controls" style="">
                    <div id="seekBar01" style="">
                        <span></span>
                    </div>
                    <button type="button" id="play-pause-01"><img src='img/BTN/Video-Control-BTN-Play.png'></button>
                </div>
                <div class="videoDivider"></div>
                <div id="video01Back" class="videoBTN"><img src="img/BTN/BTN-Back.png" /></div>
                <div id="video01Text" class="videoText"><h2>Explore The Riverboat St. Louis</h2>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</div>
                <div id="video01Next" class="videoBTN"><img src="img/BTN/BTN-Next.png" /></div>
            </div>

            <div class="" id="video02" style="display: none;">
                <p><h1>City Market</h1></p>
            </div>

            <div class="" id="video03" style="display: none;">
                <p><h1>Commercial Alley</h1></p>
            </div>

            <div class="" id="video04" style="display: none;">
                <p><h1>Main Street</h1></p>
            </div>
        </div>

    </div>

    <!--jQuery Tabs --------------------------------- //-->
    <!--onclick=$('#setControls').show();-->

    <div>
        <ul class="tabs-nav">
            <!--<ul class="tabs-nav">-->
            <li class="tab-active" id="btn-tab-OV">
                <a href="#leveeMap" rel="nofollow">ov</a>
                <p>Overview</p>
            </li>
            <li class="" id="btn-tab-01">
                <a href="#video04" rel="nofollow">1</a>
                <p>Riverboat St. Louis</p>
            </li>
            <li class="" id="btn-tab-02">
                <a href="#video02" rel="nofollow">2</a>
                <p>City Market</p>
            </li>
            <li class="" id="btn-tab-03">
                <a href="#video03" rel="nofollow">3</a>
                <p>Commercial Alley</p>
            </li>
            <li class="" id="btn-tab-04">
                <a href="#video01" rel="nofollow">4</a>
                <p>Main Street</p>
            </li>
        </ul>
    </div>

    <script type="text/javascript">
    // ---------------- User Interface - JQuery ----------------------- //
	    // Change tab class and display content
	    $('.tabs-nav a').on('click', function (event) {
		    event.preventDefault();

		    $('.tab-active').removeClass('tab-active');
		    $(this).parent().addClass('tab-active');
		    //$('.tabs-stage div').hide();
		    //$($(this).attr('href')).show();
	    });

	    $('.tabs-nav a:first').trigger('click'); // Default
	    //

	    // -----------------Active Tab Functions ---------------------- //
	    // Toggle BTN ---- //
	    $('#btn-toggleControls.button-wrap').on("click", function( event ){

		    event.preventDefault();

		      $(this).toggleClass('button-active');

			    if ($(this).hasClass('button-active')) {


				    setPosition00();
				    $(".tabs-nav").removeClass('visible');
				    $(".tabs-nav").addClass('hidden');

				    $('.tab-active').removeClass('tab-active');
				    $("#btn-tab-OV").addClass('tab-active');

				    $('.movement-pad, .rotation-pad').animate({
					    opacity : 1.0 //show touch controls
				    }, 500, "linear");

				    $('.overlayBTN').addClass('hidden');
				    $('.overlayText').addClass('hidden');

			    }

			    else {

				    setDefaultPosition();
				    $(".tabs-nav").removeClass('hidden');
				    $(".tabs-nav").addClass('visible');

				    $('.movement-pad, .rotation-pad').animate({
					    opacity : 0.0  //hide touch controls
				    }, 100, "linear");

				    $('.overlayBTN').addClass('hidden');
				    $('.overlayText').addClass('hidden');

			    };

		    });
		    //


	    // Tab OV ---- //
	    $('#btn-tab-OV a').on("click", function(){

	        setDefaultPosition();

	        $('.overlayBTN').addClass('hidden');
	        $('.overlayText').addClass('hidden');

		    });
		    //

	    // Tab 01 ---- //
	    $('#btn-tab-01 a').on("click", function(){

	        setPosition01();

	        $('.overlayBTN').addClass('hidden');
	        $('.overlayText').addClass('hidden');

		    });
		    //

	    // Tab 02 ---- //
	    $('#btn-tab-02 a').on("click", function(){

	        setPosition02();

	        $('.overlayBTN').addClass('hidden');
	        $('.overlayText').addClass('hidden');

		    });
		    //

	    // Tab 03 ---- //
	    $('#btn-tab-03 a').on("click", function(){

	        setPosition03();

	        $('.overlayBTN').addClass('hidden');
	        $('.overlayText').addClass('hidden');

		    });
		    //

	    // Tab 04 ---- //
	    $('#btn-tab-04 a').on("click", function(){

	        setPosition04();

	        $('.overlayBTN').addClass('hidden');
	        $('.overlayText').addClass('hidden');


		    });
            //

        // ------------------- Display Video Content ------------------ //

	        // Video 01 ---- //
	        $('#overlay01 a').on("click", function () {
	            $('.tabs-stage div').hide();
	            $(".tabs-nav").addClass('hidden');
	            $("#setControls").addClass('hidden');

	            $('.overlayBTN').addClass('hidden');
	            $('.overlayText').addClass('hidden');

	            $('#videoContainer').show();
	            $($(this).attr('href')).show();
	            $('#video-01-controls').show();
	            $('#video01Text').show();
	            $('#video01Back').show();
	            $('#video01Next').show();
	            $('#seekBar01').show();
	        });

        // Video 01 BTN Back -------------- //
	        $('#video01Back').on("click", function () {

	            var video01 = document.getElementById("stlouisVideo");
	            var playBTN01 = document.getElementById("play-pause-01");


	            video01.pause();
	            video01.currentTime = 0;

	            // Update the button text to 'Play'
	            playBTN01.innerHTML = "<img src='./img/BTN/Video-Control-BTN-Play.png'>";

	            $('.tabs-stage div').show();
	            $(".tabs-nav").removeClass('hidden');
	            $("#setControls").removeClass('hidden');

	            $('#overlay01.overlayBTN').removeClass('hidden');
	            $('#overlay01Text.overlayText').removeClass('hidden');

	            $('#videoContainer').hide();
	            $('#video01').hide();
	            $('#video-01-controls').hide();
	            $('#video01Back').hide();
	            $('#video01Next').hide();
	            $('#seekBar01').hide();

	        });
	        //


        // ----- Disable Manual Rotation ------ //

	    if ($('#btn-toggleControls.button-wrap').hasClass('button-active')) {

	        isRightMouseDown = true;

	    } else if (!$('#btn-toggleControls.button-wrap').hasClass('button-active')) {

	        isRightMouseDown = false;

	    }

    </script>

</body>

</html>
